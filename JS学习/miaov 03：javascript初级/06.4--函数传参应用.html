<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>6.4-</title>
    <script type="text/javascript">
    /*
    重用代码:
        1.尽量保证HTML代码结构一致,可以通过父级选取子元素
        2.把核心主程序实现,用函数包起来
        3.把每组里不同的值找出来,通过传参实现.

    */
    window.onload = function() {
        var oUl = document.getElementById('list');
        var aLi = oUl.getElementsByTagName('li');

        for (var i = 0; i < aLi.length; i++) {
            fn(aLi[i]);
        };


        function fn (oLi) {
            var aBtn = oLi.getElementsByTagName('input');
            var oStrong = oLi.getElementsByTagName('strong')[0];
            var oEm = oLi.getElementsByTagName('em')[0];
            var oSpan = oLi.getElementsByTagName('span')[0];
            var n1 = Number(oStrong.innerHTML);
            var n2 = parseFloat(oEm.innerHTML);

            aBtn[1].onclick = function() {
                // n1 += 1; 注意字符串连接
                n1++;
                oStrong.innerHTML = n1;
                oSpan.innerHTML = n1*n2 + '元';
            };
            aBtn[0].onclick = function() {
                // n1 += 1; 注意字符串连接
                n1--;
                if (n1<0) {n1 = 0};
                oStrong.innerHTML = n1;
                oSpan.innerHTML = n1*n2 + '元';
            };
        }
    };
    </script>
</head>
<body>
<ul id="list">
    <li>
        <input type="button" value="-">
        <strong>0</strong>
        <input type="button" value="+">
        单价:<em>12.5元</em>
        小计:<span>0元</span>
    </li>
    <li>
        <input type="button" value="-">
        <strong>0</strong>
        <input type="button" value="+">
        单价:<em>10.5元</em>
        小计:<span>0元</span>
    </li>
    <li>
        <input type="button" value="-">
        <strong>0</strong>
        <input type="button" value="+">
        单价:<em>8.5元</em>
        小计:<span>0元</span>
    </li>
    <li>
        <input type="button" value="-">
        <strong>0</strong>
        <input type="button" value="+">
        单价:<em>10.0元</em>
        小计:<span>0元</span>
    </li>
    <li>
        <input type="button" value="-">
        <strong>0</strong>
        <input type="button" value="+">
        单价:<em>15.0元</em>
        小计:<span>0元</span>
    </li>
</ul>
<p>
商品合计共:0件,共花费了:0元
其中最贵的商品单价是:0元
</p>
</body>
</html>